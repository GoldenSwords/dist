{"version":3,"sources":["webpack:///./src/assets/clouds.jpg","webpack:///./src/views/three/ThreeEarth.vue?3ce7","webpack:///src/views/three/ThreeEarth.vue","webpack:///./src/views/three/ThreeEarth.vue?a72e","webpack:///./src/views/three/ThreeEarth.vue","webpack:///./src/assets/earth.jpg"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticStyle","ref","staticRenderFns","name","data","earthImg","cloudsImg","scene","light","camera","width","height","earthMesh","cloudsMesh","controls","mounted","initThree","initCamera","initScene","initLight","initEarth","initClouds","animate","methods","alphaMap","transparent","opacity","add","update","rotation","y","z","renderer","window","requestAnimationFrame","$refs","canvas","clientWidth","clientHeight","antialias","alpha","context","getContext","setClearColor","position","x","OrbitControls","set","map","beforeDestroy","cancelAnimationFrame","dispose","component"],"mappings":"uIAAAA,EAAOC,QAAU,IAA0B,2B,2CCA3C,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,CAAC,MAAQ,OAAO,OAAS,SAAS,CAACF,EAAG,SAAS,CAACG,IAAI,SAASD,YAAY,CAAC,QAAU,QAAQ,MAAQ,OAAO,OAAS,aACtOE,EAAkB,G,wBCYtB,GACEC,KAAM,aACNC,KAFF,WAGI,MAAO,CACLC,SAAU,EAAhB,QACMC,UAAW,EAAjB,QACMC,MAAO,KACPC,MAAO,KACPC,OAAQ,KACRC,MAAO,KACPC,OAAQ,KACRC,UAAW,KACXC,WAAY,KACZC,SAAU,OAGdC,QAhBF,WAiBIpB,KAAKqB,YACLrB,KAAKsB,aACLtB,KAAKuB,YACLvB,KAAKwB,YACLxB,KAAKyB,YACLzB,KAAK0B,aACL1B,KAAK2B,WAEPC,QAAS,CACPF,WADJ,WAGM,IAAN,0BAEA,cACQG,UAAU,IAAI,EAAtB,2BACQC,aAAa,EACbC,QAAS,KAGX/B,KAAKkB,WAAa,IAAI,EAA5B,UACMlB,KAAKY,MAAMoB,IAAIhC,KAAKkB,aAEtBS,QAdJ,WAeM3B,KAAKmB,SAASc,SAEdjC,KAAKiB,UAAUiB,SAASC,GAAK,KAE7BnC,KAAKkB,WAAWgB,SAASC,GAAK,KAC9BnC,KAAKkB,WAAWgB,SAASE,GAAK,KAC9BpC,KAAKqC,SAASvC,OAAOE,KAAKY,MAAOZ,KAAKc,QACtCwB,OAAOC,sBAAsBvC,KAAK2B,UAEpCN,UAxBJ,WAyBMrB,KAAKe,MAAQf,KAAKwC,MAAMC,OAAOC,YAC/B1C,KAAKgB,OAAShB,KAAKwC,MAAMC,OAAOE,aAChC3C,KAAKwC,MAAMC,OAAO1B,MAAQf,KAAKwC,MAAMC,OAAOC,YAC5C1C,KAAKgB,OAAShB,KAAKwC,MAAMC,OAAOzB,OAAShB,KAAKwC,MAAMC,OAAOE,aAC3D3C,KAAKqC,SAAW,IAAI,EAA1B,MACQO,WAAW,EACXC,OAAO,EACPJ,OAAQzC,KAAKwC,MAAMC,OACnBK,QAAS9C,KAAKwC,MAAMC,OAAOM,WAAW,YAExC/C,KAAKqC,SAASW,cAAc,WAE9B1B,WArCJ,WAsCMtB,KAAKc,OAAS,IAAI,EAAxB,KACA,GACA,uBACA,EACA,KAEMd,KAAKc,OAAOmC,SAASC,GAAK,IAC1BlD,KAAKc,OAAOmC,SAASd,EAAI,IACzBnC,KAAKc,OAAOmC,SAASb,GAAK,IAC1BpC,KAAKmB,SAAW,IAAIgC,EAA1B,4CAEI5B,UAjDJ,WAkDMvB,KAAKY,MAAQ,IAAI,EAAvB,MAEIY,UApDJ,WA2DMxB,KAAKa,MAAQ,IAAI,EAAvB,eACMb,KAAKa,MAAMoC,SAASG,IAAI,IAAK,IAAK,KAClCpD,KAAKY,MAAMoB,IAAIhC,KAAKa,QAQtBY,UArEJ,WAuEM,IAAN,0BACA,cACQ4B,KAAK,IAAI,EAAjB,4BAEMrD,KAAKiB,UAAY,IAAI,EAA3B,UACMjB,KAAKY,MAAMoB,IAAIhC,KAAKiB,aAGxBqC,cAxGF,WAyGIhB,OAAOiB,qBAAqBvD,KAAK2B,SACjC3B,KAAKqC,SAASmB,YCvHiV,I,YCO/VC,EAAY,eACd,EACA3D,EACAS,GACA,EACA,KACA,WACA,MAIa,aAAAkD,E,8BClBf7D,EAAOC,QAAU,IAA0B","file":"js/chunk-44b64f9a.393b47cf.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/clouds.99053039.jpg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},[_c('canvas',{ref:\"canvas\",staticStyle:{\"display\":\"block\",\"width\":\"100%\",\"height\":\"100%\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"width: 100%;height: 100%\">\n    <canvas\n      ref=\"canvas\"\n      style=\"display: block;width: 100%; height: 100%;\"\n    ></canvas>\n  </div>\n</template>\n\n<script>\nimport * as THREE from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\n// import CanvasRenderer from 'three/examples/js/renderers/CanvasRenderer'\nexport default {\n  name: \"ThreeEarth\",\n  data() {\n    return {\n      earthImg: require(\"../../assets/earth.jpg\"),\n      cloudsImg: require(\"../../assets/clouds.jpg\"),\n      scene: null,\n      light: null,\n      camera: null,\n      width: null,\n      height: null,\n      earthMesh: null,\n      cloudsMesh: null,\n      controls: null\n    };\n  },\n  mounted() {\n    this.initThree();\n    this.initCamera();\n    this.initScene();\n    this.initLight();\n    this.initEarth();\n    this.initClouds();\n    this.animate();\n  },\n  methods: {\n    initClouds() {\n      // 实例化一个球体，半径要比地球的大一点，从而实现云飘咋地球上的感觉\n      const cloudsGeo = new THREE.SphereGeometry(201, 100, 100);\n      // transparent 与 opacity 搭配使用，设置材质的透明度，当 transparent 设为 true 时， 会对材质特殊处理，对性能会有些损耗。\n      const cloudsMater = new THREE.MeshPhongMaterial({\n        alphaMap: new THREE.TextureLoader().load(this.cloudsImg),\n        transparent: true,\n        opacity: 0.2\n      });\n\n      this.cloudsMesh = new THREE.Mesh(cloudsGeo, cloudsMater);\n      this.scene.add(this.cloudsMesh);\n    },\n    animate() {\n      this.controls.update();\n      // 地球自转\n      this.earthMesh.rotation.y -= 0.002;\n      // 漂浮的云层\n      this.cloudsMesh.rotation.y -= 0.005;\n      this.cloudsMesh.rotation.z += 0.005;\n      this.renderer.render(this.scene, this.camera);\n      window.requestAnimationFrame(this.animate);\n    },\n    initThree() {\n      this.width = this.$refs.canvas.clientWidth;\n      this.height = this.$refs.canvas.clientHeight;\n      this.$refs.canvas.width = this.$refs.canvas.clientWidth;\n      this.height = this.$refs.canvas.height = this.$refs.canvas.clientHeight;\n      this.renderer = new THREE.WebGLRenderer({\n        antialias: true,\n        alpha: true,\n        canvas: this.$refs.canvas,\n        context: this.$refs.canvas.getContext(\"webgl2\")\n      });\n      this.renderer.setClearColor(0xffffff);\n    },\n    initCamera() {\n      this.camera = new THREE.PerspectiveCamera(\n        45,\n        this.width / this.height,\n        1,\n        10000\n      );\n      this.camera.position.x = -500;\n      this.camera.position.y = 500;\n      this.camera.position.z = -500;\n      this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n    },\n    initScene() {\n      this.scene = new THREE.Scene();\n    },\n    initLight() {\n      // A light source positioned directly above the scene, with color fading from the sky color to the ground color.\n      // 位于场景正上方的光源，颜色从天空颜色渐变为地面颜色。\n      //  var light = new THREE.HemisphereLight(0xffffbb, 0x080820, 1);\n      // scene.add(light);\n\n      // 环境光\n      this.light = new THREE.AmbientLight(0xffffff);\n      this.light.position.set(100, 100, 200);\n      this.scene.add(this.light);\n\n      // 平行光\n      // 位置不同，方向光作用于物体的面也不同，看到的物体各个面的颜色也不一样\n      // light = new THREE.DirectionalLight(0xffffbb, 1);\n      // light.position.set(-1, 1, 1);\n      // scene.add(light);\n    },\n    initEarth() {\n      // 实例化一个半径为 200 的球体\n      const earthGeo = new THREE.SphereGeometry(200, 100, 100);\n      const earthMater = new THREE.MeshPhongMaterial({\n        map: new THREE.TextureLoader().load(this.earthImg)\n      });\n      this.earthMesh = new THREE.Mesh(earthGeo, earthMater);\n      this.scene.add(this.earthMesh);\n    }\n  },\n  beforeDestroy() {\n    window.cancelAnimationFrame(this.animate);\n    this.renderer.dispose();\n  }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreeEarth.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreeEarth.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ThreeEarth.vue?vue&type=template&id=0590c6ce&scoped=true&\"\nimport script from \"./ThreeEarth.vue?vue&type=script&lang=js&\"\nexport * from \"./ThreeEarth.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0590c6ce\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/earth.73d844e7.jpg\";"],"sourceRoot":""}