(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c758368c"],{1148:function(e,t,n){"use strict";var r=n("a691"),i=n("1d80");e.exports="".repeat||function(e){var t=String(i(this)),n="",s=r(e);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(n+=t);return n}},"1b82":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("canvas",{ref:"container",staticStyle:{width:"100%",height:"100%"},style:{}})},i=[],s=(n("a9e3"),n("38cf"),n("5a89")),o={name:"threeSprite",props:{h:Number},data:function(){return{render:null,camera:null,scene:null,player:!0,cube:null,system:null,cameraOpt:{angle:70,min:.1,max:1e3}}},mounted:function(){console.log(1),this.renderAll()},methods:{renderAll:function(){this.renderInit(),this.renderCube();var e=n("b2c3");this.renderSystem(e,200),this.animation()},renderInit:function(){var e=this.$refs.container.clientWidth,t=this.$refs.container.clientHeight;this.render=new s["Db"]({canvas:this.$refs.container}),this.render.setSize(e,t),this.camera=new s["bb"](this.cameraOpt.angle,e/t,this.cameraOpt.min,this.cameraOpt.max),this.camera.position.set(0,-80,80),this.camera.lookAt(0,0,0),this.scene=new s["mb"]},renderSystem:function(e,t){var n=[],r=[],i=[],o=100,a=(new s["vb"]).load(e);a.wrapS=s["lb"],a.wrapT=s["lb"],a.repeat.set(4,4);for(var c=new s["ob"]({uniforms:{pointTexture:{value:a}},vertexShader:"\n                attribute float size;\n                varying vec3 vColor;\n                void main() {\n                    vColor = color;\n                    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n                    gl_PointSize = size * ( 300.0 / -mvPosition.z );\n                    gl_Position = projectionMatrix * mvPosition;\n                }\n            ",fragmentShader:"\n                uniform sampler2D pointTexture;\n                varying vec3 vColor;\n                void main() {\n                      gl_FragColor = texture2D( pointTexture , gl_PointCoord);\n                }\n            ",depthTest:!0,transparent:!0,vertexColors:s["Cb"]}),h=new s["k"],u=0;u<t;u++)n.push((2*Math.random()-1)*o),n.push((2*Math.random()-1)*o),n.push((2*Math.random()-1)*o),r.push(h.r,h.g,h.b),i.push(2);var l=new s["g"];l.setAttribute("position",new s["q"](n,3)),l.setAttribute("color",new s["q"](r,3)),l.setAttribute("size",new s["q"](i,1).setUsage(s["n"])),this.system=new s["eb"](l,c),this.scene.add(this.system)},renderCube:function(){var e=new s["e"](20,20,20),t=new s["Q"]({color:16776960});this.cube=new s["P"](e,t),this.scene.add(this.cube)},animation:function(){var e=this;this.cube&&(this.cube.rotation.x+=.01,this.cube.rotation.y+=.01),this.system&&(this.system.position.z=this.system.position.z<0?100:this.system.position.z-1),this.render.render(this.scene,this.camera),requestAnimationFrame((function(){e.player&&e.animation()}))}}},a=o,c=n("2877"),h=Object(c["a"])(a,r,i,!1,null,"6282ba13",null);t["default"]=h.exports},"38cf":function(e,t,n){var r=n("23e7"),i=n("1148");r({target:"String",proto:!0},{repeat:i})},b2c3:function(e,t,n){e.exports=n.p+"img/water.7dff6f31.png"}}]);
//# sourceMappingURL=chunk-c758368c.f29e27d7.js.map