{"version":3,"sources":["webpack:///./src/views/compo/CompConfig.vue?377f","webpack:///src/views/compo/CompConfig.vue","webpack:///./src/views/compo/CompConfig.vue?9fd2","webpack:///./src/views/compo/CompConfig.vue","webpack:///./src/api/baseCompo.js","webpack:///./src/views/compo/CompoBaseConfigView.vue?48a7","webpack:///src/views/compo/CompoBaseConfigView.vue","webpack:///./src/views/compo/CompoBaseConfigView.vue?2d01","webpack:///./src/views/compo/CompoBaseConfigView.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","on","add","_v","directives","name","rawName","value","expression","attrs","tableData","scopedSlots","_u","key","fn","scope","staticClass","_s","dateFormat","row","updatetime","$event","handleEdit","$index","handleConfig","handleDelete","slot","model","callback","$$v","search","configModal","style","height","instanceComp","tag","detailTarget","selectData","typeset","plugins","closeModal","addModal","instanceObj","$set","_l","item","lable","doPreview","save","cancle","viewComp","comp","staticRenderFns","components","data","configDataList","configSelect","compsInstance","loading","type","component","code","computed","configData","config","obj","undefined","beforeMount","listTable","mounted","document","body","clientHeight","getSelectList","methods","resp","status","clearModal","$message","splice","length","regist","default","getComponentBaseConfigTemplateList","opt","axios","get","BaseCompoList","BaseCompoRelations","BaseType","findBaseCompCachcade","componentsList","getBaseCompoDetail","componentsTemplateList","componentsTemplateDetail","BaseTypeList","getComponentConfigTemplateDetail","delComponentConfigTemplate","updateComponentConfigTemplate","AddComponentConfigTemplate","DelConfigTemplateInst","saveCompoTemplate","getCompoTempList","getPanelTemplateList","PluginsDataList","mock","ref","typevalue","select","selectDataFiled","id","idx","pluginChange","addPlugin","saveConfig","clearForm","props","Array","Object","pluginData","lineHeight","compsDataList","configTemp","watch","JSON","parse","stringify","val","configId","created","$refs","$emit","plugin","forEach","count","push","change"],"mappings":"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","file":"js/chunk-5ea0d444.9712a2ff.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},[_c('el-main',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},[_c('el-button',{on:{\"click\":_vm.add}},[_vm._v(\"新增\")]),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"label\":\"组件名称\",\"prop\":\"name\"}}),_c('el-table-column',{attrs:{\"label\":\"更新时间\",\"width\":\"220\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-time\"}),_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(_vm.dateFormat(\"yyyy-MM-dd hh:mm:ss\", scope.row.updatetime)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button-group',[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-s-operation\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}}),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"success\",\"icon\":\"el-icon-s-tools\"},on:{\"click\":function($event){return _vm.handleConfig(scope.$index, scope.row)}}}),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-remove-outline\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}})],1)]}}])},[_c('template',{slot:\"header\"},[_c('el-input',{attrs:{\"size\":\"mini\",\"placeholder\":\"输入关键字搜索\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)],2)],1),_c('el-dialog',{attrs:{\"visible\":_vm.configModal,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.configModal=$event}}},[_c('template',{slot:\"title\"},[_vm._v(\"预览\")]),_c('div',{style:({ height: _vm.height + 'px' })},[_c('el-row',{staticStyle:{\"height\":\"100%\"}},[_c('el-col',{staticStyle:{\"height\":\"100%\"},attrs:{\"span\":12}},[_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"position\":\"relative\"}},[_c('div',{staticClass:\"mask\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"position\":\"absolute\",\"z-index\":\"1\"}}),_c(_vm.instanceComp,{tag:\"component\"})],1)]),_c('el-col',{staticStyle:{\"height\":\"100%\"},attrs:{\"span\":12}},[_c('compo-base-config-view',{attrs:{\"config\":_vm.detailTarget,\"selectDataFiled\":_vm.selectData,\"typeset\":_vm.typeset,\"plugins\":_vm.plugins},on:{\"close\":_vm.closeModal}})],1)],1)],1)],2),_c('el-dialog',{attrs:{\"visible\":_vm.addModal,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addModal=$event}}},[_c('template',{slot:\"title\"},[_vm._v(_vm._s(_vm.model === \"add\" ? \"新增\" : \"编辑\"))]),_c('div',{style:({ height: _vm.height + 'px' })},[_c('el-row',{staticStyle:{\"height\":\"100%\"}},[_c('el-col',{staticStyle:{\"height\":\"100%\"},attrs:{\"span\":12}},[_c('el-form',[_c('el-form-item',[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"mini\",\"placeholder\":\"请选择\"},model:{value:(_vm.instanceObj.type),callback:function ($$v) {_vm.$set(_vm.instanceObj, \"type\", $$v)},expression:\"instanceObj.type\"}},_vm._l((_vm.typeset),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.lable,\"value\":item.value}})}),1)],1),_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"组件名称\"},model:{value:(_vm.instanceObj.name),callback:function ($$v) {_vm.$set(_vm.instanceObj, \"name\", $$v)},expression:\"instanceObj.name\"}})],1),_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"组件路径 views/...\"},model:{value:(_vm.instanceObj.component),callback:function ($$v) {_vm.$set(_vm.instanceObj, \"component\", $$v)},expression:\"instanceObj.component\"}})],1),_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"组件标识\"},model:{value:(_vm.instanceObj.code),callback:function ($$v) {_vm.$set(_vm.instanceObj, \"code\", $$v)},expression:\"instanceObj.code\"}})],1),_c('el-form-item',[_c('el-button-group',[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.doPreview}},[_vm._v(\"应用\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"success\"},on:{\"click\":_vm.save}},[_vm._v(_vm._s(_vm.model === \"add\" ? \"提交\" : \"更新\"))]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"default\"},on:{\"click\":_vm.cancle}},[_vm._v(\"取消\")])],1)],1)],1)],1),_c('el-col',{staticStyle:{\"height\":\"100%\"},attrs:{\"span\":12}},[_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"position\":\"relative\"}},[_c('div',{staticClass:\"mask\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"position\":\"absolute\",\"z-index\":\"1\"}}),_c(_vm.viewComp.comp,{tag:\"component\"})],1)])],1)],1)],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-container style=\"width: 100%;height: 100%;\">\n    <el-main style=\"width: 100%;height: 100%;\">\n      <el-button @click=\"add\">新增</el-button>\n      <el-table :data=\"tableData\" style=\"width: 100%\" v-loading=\"loading\">\n        <el-table-column label=\"组件名称\" prop=\"name\"></el-table-column>\n        <el-table-column label=\"更新时间\" width=\"220\">\n          <template slot-scope=\"scope\">\n            <i class=\"el-icon-time\"></i>\n            <span style=\"margin-left: 10px\">{{\n              dateFormat(\"yyyy-MM-dd hh:mm:ss\", scope.row.updatetime)\n            }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"180\">\n          <template slot=\"header\">\n            <el-input\n              v-model=\"search\"\n              size=\"mini\"\n              placeholder=\"输入关键字搜索\"\n            />\n          </template>\n          <template slot-scope=\"scope\">\n            <el-button-group>\n              <el-button\n                size=\"mini\"\n                type=\"primary\"\n                icon=\"el-icon-s-operation\"\n                @click=\"handleEdit(scope.$index, scope.row)\"\n              ></el-button>\n              <el-button\n                size=\"mini\"\n                type=\"success\"\n                icon=\"el-icon-s-tools\"\n                @click=\"handleConfig(scope.$index, scope.row)\"\n              ></el-button>\n              <el-button\n                size=\"mini\"\n                type=\"danger\"\n                icon=\"el-icon-remove-outline\"\n                @click=\"handleDelete(scope.$index, scope.row)\"\n              ></el-button>\n            </el-button-group>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-dialog :visible.sync=\"configModal\" width=\"50%\">\n        <template slot=\"title\">预览</template>\n        <div :style=\"{ height: height + 'px' }\">\n          <el-row style=\"height: 100%;\">\n            <el-col style=\"height: 100%;\" :span=\"12\">\n              <div style=\"width: 100%;height: 100%;position: relative;\">\n                <div\n                  style=\"width: 100%;height: 100%;position: absolute;z-index: 1;\"\n                  class=\"mask\"\n                ></div>\n                <component :is=\"instanceComp\"></component>\n              </div>\n            </el-col>\n            <el-col style=\"height: 100%;\" :span=\"12\">\n              <compo-base-config-view\n                :config=\"detailTarget\"\n                :selectDataFiled=\"selectData\"\n                :typeset=\"typeset\"\n                :plugins=\"plugins\"\n                @close=\"closeModal\"\n              ></compo-base-config-view>\n            </el-col>\n          </el-row>\n        </div>\n      </el-dialog>\n      <el-dialog :visible.sync=\"addModal\" width=\"50%\">\n        <template slot=\"title\">{{\n          model === \"add\" ? \"新增\" : \"编辑\"\n        }}</template>\n        <div :style=\"{ height: height + 'px' }\">\n          <el-row style=\"height: 100%;\">\n            <el-col style=\"height: 100%;\" :span=\"12\">\n              <el-form>\n                <el-form-item>\n                  <el-select\n                    v-model=\"instanceObj.type\"\n                    size=\"mini\"\n                    placeholder=\"请选择\"\n                    style=\"width: 100%;\"\n                  >\n                    <el-option\n                      v-for=\"item in typeset\"\n                      :key=\"item.value\"\n                      :label=\"item.lable\"\n                      :value=\"item.value\"\n                    ></el-option>\n                  </el-select>\n                </el-form-item>\n                <el-form-item>\n                  <el-input\n                    v-model=\"instanceObj.name\"\n                    placeholder=\"组件名称\"\n                  ></el-input>\n                </el-form-item>\n                <el-form-item>\n                  <el-input\n                    v-model=\"instanceObj.component\"\n                    placeholder=\"组件路径 views/...\"\n                  ></el-input>\n                </el-form-item>\n                <el-form-item>\n                  <el-input\n                    v-model=\"instanceObj.code\"\n                    placeholder=\"组件标识\"\n                  ></el-input>\n                </el-form-item>\n                <el-form-item>\n                  <el-button-group>\n                    <el-button @click=\"doPreview\" size=\"mini\" type=\"primary\"\n                      >应用</el-button\n                    >\n                    <el-button @click=\"save\" size=\"mini\" type=\"success\">{{\n                      model === \"add\" ? \"提交\" : \"更新\"\n                    }}</el-button>\n                    <el-button @click=\"cancle\" size=\"mini\" type=\"default\"\n                      >取消</el-button\n                    >\n                  </el-button-group>\n                </el-form-item>\n              </el-form>\n            </el-col>\n            <el-col style=\"height: 100%;\" :span=\"12\">\n              <div style=\"width: 100%;height: 100%;position: relative;\">\n                <div\n                  style=\"width: 100%;height: 100%;position: absolute;z-index: 1;\"\n                  class=\"mask\"\n                ></div>\n                <component :is=\"viewComp.comp\"></component>\n              </div>\n            </el-col>\n          </el-row>\n        </div>\n      </el-dialog>\n    </el-main>\n  </el-container>\n</template>\n\n<script>\nimport { dateFormat, registComponent } from \"@/plugins/util/util\";\nimport {\n  PluginsDataList,\n  componentsTemplateList,\n  componentsTemplateDetail,\n  getComponentBaseConfigTemplateList,\n  saveCompoTemplate\n} from \"@/api/baseCompo\";\nimport CompoBaseConfigView from \"@/views/compo/CompoBaseConfigView\";\nexport default {\n  name: \"CompConfig\",\n  components: { CompoBaseConfigView },\n  data() {\n    return {\n      model: \"add\",\n      typeset: [\n        { value: 0, lable: \"面板\" },\n        { value: 1, lable: \"组件\" }\n      ],\n      height: 0,\n      selectData: {\n        configDataList: []\n      },\n      configSelect: null,\n      compsInstance: [],\n      addModal: false,\n      configModal: false,\n      search: \"\",\n      dateFormat: null,\n      loading: false,\n      instanceObj: {\n        type: 0,\n        component: null,\n        code: null,\n        name: null\n      },\n      viewComp: {\n        name: \"\",\n        comp: null\n      },\n      plugins: [],\n      detailTarget: {},\n      tableData: [{ name: \"name\" }]\n    };\n  },\n  computed: {\n    configData: function() {\n      return this.detailTarget.config;\n    },\n    instanceComp: function() {\n      const obj = this.compsInstance.find(item => {\n        return item.name === this.detailTarget.code;\n      });\n      return obj ? obj.comp : undefined;\n    }\n  },\n  beforeMount() {\n    this.dateFormat = dateFormat;\n    this.listTable();\n  },\n  mounted() {\n    this.height = document.body.clientHeight * 0.5;\n    this.getSelectList();\n  },\n  methods: {\n    getSelectList() {\n      PluginsDataList().then(resp => {\n        this.plugins = resp.data.msg;\n      });\n      getComponentBaseConfigTemplateList().then(resp => {\n        this.selectData.configDataList = resp.data.msg;\n      });\n    },\n    save() {\n      saveCompoTemplate(JSON.stringify(this.instanceObj)).then(resp => {\n        if (resp.data.status) {\n          this.listTable();\n          this.closeModal();\n        } else {\n          this.$message(resp.msg);\n        }\n      });\n    },\n    cancle() {\n      this.closeModal();\n      this.clearModal();\n    },\n    //预览\n    doPreview() {\n      this.viewComp.name = this.instanceObj.code;\n      if (this.instanceObj.code && this.instanceObj.component) {\n        registComponent(this.instanceObj.code, this.instanceObj.component).then(\n          resp => {\n            this.viewComp.comp = resp.default;\n          }\n        );\n      } else {\n        this.$message(\"请指定code和component\");\n      }\n    },\n    listTable() {\n      this.compsInstance.splice(0, this.compsInstance.length);\n      componentsTemplateList().then(resp => {\n        if (resp.data.status) {\n          this.tableData = resp.data.msg;\n          for (let i = 0; i < this.tableData.length; i++) {\n            this.regist(this.tableData[i].code, this.tableData[i].component);\n          }\n        }\n      });\n    },\n    regist(name, comp) {\n      registComponent(name, comp).then(resp => {\n        this.compsInstance.push({\n          name: name,\n          comp: resp.default\n        });\n      });\n    },\n    handleDelete() {},\n    handleConfig(index, row) {\n      componentsTemplateDetail(JSON.stringify(row)).then(resp => {\n        this.detailTarget = resp.data.msg;\n        this.configModal = true;\n      });\n    },\n    handleEdit(index, row) {\n      this.model = \"edit\";\n      componentsTemplateDetail(JSON.stringify(row)).then(resp => {\n        this.detailTarget = resp.data.msg;\n        for (const i in this.detailTarget) {\n          this.instanceObj[i] = this.detailTarget[i];\n        }\n        this.addModal = true;\n        this.doPreview();\n      });\n    },\n    //清空表单数据\n    clearModal() {\n      this.viewComp.comp = null;\n      this.detailTarget = {};\n      this.instanceObj.type = 0;\n      this.instanceObj.component = null;\n      this.instanceObj.code = null;\n      this.instanceObj.name = null;\n    },\n    //关闭模态框\n    closeModal() {\n      this.configModal = false;\n      this.addModal = false;\n    },\n    // 新增组件\n    add() {\n      this.model = \"add\";\n      this.clearModal();\n      this.addModal = true;\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CompConfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CompConfig.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CompConfig.vue?vue&type=template&id=3ef213f2&scoped=true&\"\nimport script from \"./CompConfig.vue?vue&type=script&lang=js&\"\nexport * from \"./CompConfig.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ef213f2\",\n  null\n  \n)\n\nexport default component.exports","import mock from \"@/mock\";\nimport axios from \"axios\";\n//基础配置\n//获取配置项模板\nexport const getComponentBaseConfigTemplateList = opt => {\n  return axios.get(\"/getComponentBaseConfigTemplateList\", {\n    data: opt\n  });\n};\nexport const BaseCompoList = opt => {\n  return axios.get(\"/BaseCompoList\", {\n    data: opt\n  });\n};\nexport const BaseCompoRelations = opt => {\n  return axios.get(\"/BaseCompoRelations\", {\n    data: opt\n  });\n};\nexport const BaseType = opt => {\n  return axios.get(\"/BaseType\", {\n    data: opt\n  });\n};\nexport const findBaseCompCachcade = opt => {\n  return axios.get(\"/findBaseCompCachcade\", {\n    data: opt\n  });\n};\nexport const componentsList = opt => {\n  return axios.get(\"/componentsList\", {\n    data: opt\n  });\n};\nexport const getBaseCompoDetail = opt => {\n  return axios.get(\"/getBaseCompoDetail\", {\n    data: opt\n  });\n};\n//基础配置\n//组件模板列表\nexport const componentsTemplateList = opt => {\n  return axios.get(\"/componentsTemplateList\", {\n    data: opt\n  });\n};\n//组件详情\nexport const componentsTemplateDetail = opt => {\n  return axios.get(\"/componentsTemplateDetail\", {\n    data: opt\n  });\n};\n//获取配置选项组件\nexport const BaseTypeList = opt => {\n  return axios.get(\"/BaseTypeList\", {\n    data: opt\n  });\n};\n//配置项模板详情\nexport const getComponentConfigTemplateDetail = opt => {\n  return axios.get(\"/getComponentConfigTemplateDetail\", {\n    data: opt\n  });\n};\n//删除配置项模板\nexport const delComponentConfigTemplate = opt => {\n  return axios.get(\"/delComponentConfigTemplate\", {\n    data: opt\n  });\n};\n//更新配置项模板\nexport const updateComponentConfigTemplate = opt => {\n  return axios.get(\"/updateComponentConfigTemplate\", {\n    data: opt\n  });\n};\n//更新模板\nexport const AddComponentConfigTemplate = opt => {\n  return axios.get(\"/AddComponentConfigTemplate\", {\n    data: opt\n  });\n};\n//移除基础配置实例\nexport const DelConfigTemplateInst = opt => {\n  return axios.get(\"/DelConfigTemplateInst\", {\n    data: opt\n  });\n};\n//新增组件模板\nexport const saveCompoTemplate = opt => {\n  return axios.get(\"/saveCompoTemplate\", {\n    data: opt\n  });\n};\n//组件模块列表\nexport const getCompoTempList = opt => {\n  return axios.get(\"/getCompoTempList\", {\n    data: opt\n  });\n};\n//组件面板列表\nexport const getPanelTemplateList = opt => {\n  return axios.get(\"/getPanelTemplateList\", {\n    data: opt\n  });\n};\n//插件列表\nexport const PluginsDataList = opt => {\n  return axios.get(\"/PluginsDataList\", {\n    data: opt\n  });\n};\nmock({ mock: true });\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},[_c('el-main',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},[_c('el-row',{ref:\"row\",staticStyle:{\"height\":\"30px\",\"line-height\":\"30px\"}},[_c('el-col',{attrs:{\"span\":4}},[_vm._v(\"类型\")]),_c('el-col',{attrs:{\"span\":20}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"mini\",\"placeholder\":\"请选择\"},model:{value:(_vm.typevalue),callback:function ($$v) {_vm.typevalue=$$v},expression:\"typevalue\"}},_vm._l((_vm.typeset),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.lable,\"value\":item.value}})}),1)],1)],1),_c('el-row',{ref:\"row\",staticStyle:{\"height\":\"30px\",\"line-height\":\"30px\"}},[_c('el-col',{attrs:{\"span\":4}},[_vm._v(\"配置项\")]),_c('el-col',{attrs:{\"span\":20}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"mini\",\"placeholder\":\"请选择\"},model:{value:(_vm.select),callback:function ($$v) {_vm.select=$$v},expression:\"select\"}},_vm._l((_vm.selectDataFiled.configDataList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1)],1),_c('el-row',{staticClass:\"LScroll\",staticStyle:{\"height\":\"calc(100% - 90px)\",\"overflow\":\"auto\"}},[_c('el-col',{attrs:{\"span\":4}},[_vm._v(\"扩展项\")]),_c('el-col',{attrs:{\"span\":20}},[_vm._l((_vm.pluginData),function(item,idx){return _c('div',{key:idx},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"mini\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.pluginChange},model:{value:(item.code),callback:function ($$v) {_vm.$set(item, \"code\", $$v)},expression:\"item.code\"}},_vm._l((_vm.plugins),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1)}),_c('div',[_c('el-button',{staticStyle:{\"width\":\"100%\",\"padding-right\":\"30px\"},attrs:{\"icon\":\"el-icon-circle-plus\",\"size\":\"mini\"},on:{\"click\":_vm.addPlugin}})],1)],2)],1),_c('el-row',{staticStyle:{\"height\":\"30px\",\"line-height\":\"30px\",\"text-align\":\"center\"}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-button-group',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.saveConfig}},[_vm._v(\"确认\")]),_c('el-button',{attrs:{\"type\":\"default\",\"size\":\"mini\"},on:{\"click\":_vm.clearForm}},[_vm._v(\"取消\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-container style=\"width: 100%;height: 100%;\">\n    <el-main style=\"width: 100%;height: 100%;\">\n      <el-row ref=\"row\" style=\"height: 30px;line-height: 30px;\">\n        <el-col :span=\"4\">类型</el-col>\n        <el-col :span=\"20\">\n          <el-select\n            v-model=\"typevalue\"\n            size=\"mini\"\n            placeholder=\"请选择\"\n            style=\"width: 100%;\"\n          >\n            <el-option\n              v-for=\"item in typeset\"\n              :key=\"item.value\"\n              :label=\"item.lable\"\n              :value=\"item.value\"\n            ></el-option>\n          </el-select>\n        </el-col>\n      </el-row>\n      <el-row ref=\"row\" style=\"height: 30px;line-height: 30px;\">\n        <el-col :span=\"4\">配置项</el-col>\n        <el-col :span=\"20\">\n          <el-select\n            v-model=\"select\"\n            size=\"mini\"\n            placeholder=\"请选择\"\n            style=\"width: 100%;\"\n          >\n            <el-option\n              v-for=\"item in selectDataFiled.configDataList\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.id\"\n            ></el-option>\n          </el-select>\n        </el-col>\n      </el-row>\n      <el-row style=\"height: calc(100% - 90px);overflow: auto;\" class=\"LScroll\">\n        <el-col :span=\"4\">扩展项</el-col>\n        <el-col :span=\"20\">\n          <div v-for=\"(item, idx) in pluginData\" :key=\"idx\">\n            <el-select\n              v-model=\"item.code\"\n              size=\"mini\"\n              placeholder=\"请选择\"\n              style=\"width: 100%;\"\n              @change=\"pluginChange\"\n            >\n              <el-option\n                v-for=\"item in plugins\"\n                :key=\"item.id\"\n                :label=\"item.name\"\n                :value=\"item.id\"\n              ></el-option>\n            </el-select>\n          </div>\n          <div>\n            <el-button\n              style=\"width: 100%;padding-right:30px;\"\n              icon=\"el-icon-circle-plus\"\n              size=\"mini\"\n              @click=\"addPlugin\"\n            ></el-button>\n          </div>\n        </el-col>\n      </el-row>\n      <el-row style=\"height: 30px;line-height: 30px;text-align: center;\">\n        <el-col :span=\"24\">\n          <el-button-group>\n            <el-button type=\"primary\" size=\"mini\" @click=\"saveConfig\"\n              >确认</el-button\n            >\n            <el-button type=\"default\" size=\"mini\" @click=\"clearForm\"\n              >取消</el-button\n            >\n          </el-button-group>\n        </el-col>\n      </el-row>\n    </el-main>\n  </el-container>\n</template>\n\n<script>\nimport { BaseCompoList, saveCompoTemplate } from \"@/api/baseCompo\";\nexport default {\n  name: \"CompoBaseConfigView\",\n  components: {},\n  props: {\n    typeset: Array,\n    config: Object,\n    plugins: Array,\n    selectDataFiled: Object\n  },\n  data() {\n    return {\n      typevalue: null,\n      pluginData: [],\n      // plugins: [\n      //   { id: 1, name: \"扩展1\" },\n      //   { id: 2, name: \"扩展2\" },\n      //   { id: 3, name: \"扩展3\" }\n      // ],\n      lineHeight: 0,\n      select: null,\n      compsDataList: [],\n      selectData: [],\n      configTemp: {}\n    };\n  },\n  watch: {\n    config(val) {\n      this.pluginData.splice(0, this.pluginData.length);\n      this.configTemp = JSON.parse(JSON.stringify(this.config));\n      this.typevalue = this.configTemp.type;\n      if (val.config) {\n        this.select = val.config.configId;\n      } else {\n        this.select = null;\n        this.selectData.splice(0, this.selectData.length);\n      }\n    }\n  },\n  computed: {},\n  created() {},\n  beforeMount() {\n    this.pluginData.splice(0, this.pluginData.length);\n    this.configTemp = JSON.parse(JSON.stringify(this.config));\n    if (this.configTemp.config) {\n      this.select = this.configTemp.config.configId;\n    }\n    this.typevalue = this.configTemp.type;\n    BaseCompoList().then(resp => {\n      this.compsDataList = resp.data.msg;\n    });\n  },\n  mounted() {\n    this.lineHeight = this.$refs.row.clientHeight;\n  },\n  methods: {\n    clearForm() {\n      this.select = null;\n      this.pluginData.splice(0, this.pluginData.length);\n      this.$emit(\"close\");\n    },\n    saveConfig() {\n      this.configTemp.config = this.configTemp.config\n        ? this.configTemp.config\n        : {};\n      this.configTemp.type = this.typevalue;\n      this.configTemp.plugin = this.pluginData;\n      this.configTemp.config.configId = this.select;\n      saveCompoTemplate(this.configTemp);\n      this.clearForm();\n    },\n    pluginChange(val) {\n      let count = 0;\n      this.pluginData.forEach(item => {\n        if (item.code === val) {\n          count++;\n        }\n      });\n      if (count > 1) {\n        this.$message(\"扩展项已存在\");\n      }\n    },\n    addPlugin() {\n      this.pluginData.push({});\n    },\n    // 配置项回调函数\n    callback() {},\n    change() {}\n  }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CompoBaseConfigView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CompoBaseConfigView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CompoBaseConfigView.vue?vue&type=template&id=38e42f56&scoped=true&\"\nimport script from \"./CompoBaseConfigView.vue?vue&type=script&lang=js&\"\nexport * from \"./CompoBaseConfigView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38e42f56\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}