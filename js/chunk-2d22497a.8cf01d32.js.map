{"version":3,"sources":["webpack:///./src/page/three/threeShadow.vue?1b2d","webpack:///src/page/three/threeShadow.vue","webpack:///./src/page/three/threeShadow.vue?26e7","webpack:///./src/page/three/threeShadow.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticStyle","style","staticRenderFns","name","props","h","Number","data","camera","scene","player","cube","cameraOpt","angle","min","max","mounted","console","log","renderAll","methods","renderInit","renderCube","animation","canvas","$refs","container","shadowMap","enabled","setSize","w","position","set","lookAt","add","ambientLight","light","castShadow","color","z","cubefloor","receiveShadow","rotation","x","y","requestAnimationFrame","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,IAAI,YAAYC,YAAY,CAAC,MAAQ,OAAO,OAAS,QAAQC,MAAM,MAC5KC,EAAkB,G,wBCKtB,GACEC,KAAM,cACNC,MAAO,CACLC,EAAGC,QAELC,KALF,WAMI,MAAO,CACLf,OAAQ,KACRgB,OAAQ,KACRC,MAAO,KACPC,QAAQ,EACRC,KAAM,KACNC,UAAW,CACTC,MAAO,GACPC,IAAK,GACLC,IAAK,OAIXC,QAnBF,WAoBIC,QAAQC,IAAI,GACZxB,KAAKyB,aAEPC,QAAS,CACPD,UADJ,WAEMzB,KAAK2B,aACL3B,KAAK4B,aACL5B,KAAK6B,aAEPF,WANJ,WAOM,IAAN,mCACA,oCACM3B,KAAKF,OAAS,IAAI,EAAxB,OACQgC,OAAQ9B,KAAK+B,MAAMC,YAErBhC,KAAKF,OAAOmC,UAAUC,SAAU,EAChClC,KAAKF,OAAOqC,QAAQC,EAAGzB,GAEvBX,KAAKc,OAAS,IAAI,EAAxB,MACA,qBACA,IACA,mBACA,oBAEMd,KAAKc,OAAOuB,SAASC,IAAI,GAAI,GAAI,IACjCtC,KAAKc,OAAOyB,OAAO,EAAG,EAAG,GACzBvC,KAAKe,MAAQ,IAAI,EAAvB,MACM,IAAN,qBACMf,KAAKe,MAAMyB,IAAIC,GACf,IAAN,wBACMC,EAAML,SAASC,IAAI,EAAG,EAAG,IAGzBI,EAAMC,YAAa,EAEnB3C,KAAKe,MAAMyB,IAAIE,IAEjBd,WAlCJ,WAmCM,IAAN,uBACA,cACQgB,MAAO,WAET5C,KAAKiB,KAAO,IAAI,EAAtB,UACMjB,KAAKiB,KAAKoB,SAASQ,EAAI,GACvB7C,KAAKiB,KAAK0B,YAAa,EACvB3C,KAAKe,MAAMyB,IAAIxC,KAAKiB,MAEpB,IAAN,yBACA,cACQ2B,MAAO,WAEf,kBACME,EAAUC,eAAgB,EAC1B/C,KAAKe,MAAMyB,IAAIM,IAEjBjB,UApDJ,WAoDA,WACU7B,KAAKiB,OACPjB,KAAKiB,KAAK+B,SAASC,GAAK,IACxBjD,KAAKiB,KAAK+B,SAASE,GAAK,KAE1BlD,KAAKF,OAAOA,OAAOE,KAAKe,MAAOf,KAAKc,QACpCqC,uBAAsB,WAChB,EAAZ,QACU,EAAV,kBCzFoW,I,YCOhWC,EAAY,eACd,EACAtD,EACAU,GACA,EACA,KACA,WACA,MAIa,aAAA4C,E","file":"js/chunk-2d22497a.8cf01d32.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{ref:\"container\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},style:({})})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <canvas ref=\"container\" style=\"width: 100%;height: 100%\" :style=\"{}\"></canvas>\r\n</template>\r\n\r\n<script>\r\nimport * as THREE from \"three\";\r\nexport default {\r\n  name: \"threeShadow\",\r\n  props: {\r\n    h: Number\r\n  },\r\n  data() {\r\n    return {\r\n      render: null,\r\n      camera: null,\r\n      scene: null,\r\n      player: true,\r\n      cube: null,\r\n      cameraOpt: {\r\n        angle: 70,\r\n        min: 0.1,\r\n        max: 1000\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n    console.log(1);\r\n    this.renderAll();\r\n  },\r\n  methods: {\r\n    renderAll() {\r\n      this.renderInit();\r\n      this.renderCube();\r\n      this.animation();\r\n    },\r\n    renderInit() {\r\n      const w = this.$refs.container.clientWidth;\r\n      const h = this.$refs.container.clientHeight;\r\n      this.render = new THREE.WebGLRenderer({\r\n        canvas: this.$refs.container\r\n      });\r\n      this.render.shadowMap.enabled = true;\r\n      this.render.setSize(w, h);\r\n      // this.$refs.container.appendChild(this.render.domElement);\r\n      this.camera = new THREE.PerspectiveCamera(\r\n        this.cameraOpt.angle,\r\n        w / h,\r\n        this.cameraOpt.min,\r\n        this.cameraOpt.max\r\n      );\r\n      this.camera.position.set(0, -80, 80);\r\n      this.camera.lookAt(0, 0, 0);\r\n      this.scene = new THREE.Scene();\r\n      const ambientLight = new THREE.AmbientLight(0x0c0c0c);\r\n      this.scene.add(ambientLight);\r\n      const light = new THREE.SpotLight(0xffffff);\r\n      light.position.set(0, 0, 80);\r\n\r\n      //告诉平行光需要开启阴影投射\r\n      light.castShadow = true;\r\n\r\n      this.scene.add(light);\r\n    },\r\n    renderCube() {\r\n      const cubeGeometry = new THREE.BoxBufferGeometry(20, 20, 20);\r\n      const material = new THREE.MeshPhongMaterial({\r\n        color: 0xffff00\r\n      });\r\n      this.cube = new THREE.Mesh(cubeGeometry, material);\r\n      this.cube.position.z = 40;\r\n      this.cube.castShadow = true;\r\n      this.scene.add(this.cube);\r\n\r\n      const cubeGeometryfloor = new THREE.BoxBufferGeometry(120, 120, 10);\r\n      const materialfloor = new THREE.MeshPhongMaterial({\r\n        color: 0xff0000\r\n      });\r\n      const cubefloor = new THREE.Mesh(cubeGeometryfloor, materialfloor);\r\n      cubefloor.receiveShadow = true;\r\n      this.scene.add(cubefloor);\r\n    },\r\n    animation() {\r\n      if (this.cube) {\r\n        this.cube.rotation.x += 0.01;\r\n        this.cube.rotation.y += 0.01;\r\n      }\r\n      this.render.render(this.scene, this.camera);\r\n      requestAnimationFrame(() => {\r\n        if (this.player) {\r\n          this.animation();\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./threeShadow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./threeShadow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./threeShadow.vue?vue&type=template&id=14d55144&scoped=true&\"\nimport script from \"./threeShadow.vue?vue&type=script&lang=js&\"\nexport * from \"./threeShadow.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14d55144\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}